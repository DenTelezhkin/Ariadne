<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Ariadne  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Ariadne  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Ariadne Docs
        </a>
         (97% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/DenTelezhkin/Ariadne">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fdentelezhkin%2Egithub%2Eio%2FAriadne%2Fdocsets%2FAriadne%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Ariadne Reference</a>
      <img class="carat" src="img/carat.png" />
      Ariadne  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BaseTransition.html">BaseTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChainableRoute.html">ChainableRoute</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CurrentlyVisibleUpdatableViewFinder.html">CurrentlyVisibleUpdatableViewFinder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CurrentlyVisibleViewFinder.html">CurrentlyVisibleViewFinder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DismissTransition.html">DismissTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InstanceViewBuilder.html">InstanceViewBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NavigationEmbeddingBuilder.html">NavigationEmbeddingBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NavigationSingleViewEmbeddingBuilder.html">NavigationSingleViewEmbeddingBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:@M@Ariadne@objc(cs)NonBuildableView">NonBuildableView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NonBuilder.html">NonBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PopNavigationTransition.html">PopNavigationTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PopToRootNavigationTransition.html">PopToRootNavigationTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PresentationTransition.html">PresentationTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PushNavigationTransition.html">PushNavigationTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/RootViewTransition.html">RootViewTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Route.html">Route</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Router.html">Router</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SplitViewBuilder.html">SplitViewBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TabBarEmbeddingBuilder.html">TabBarEmbeddingBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UpdatingRoute.html">UpdatingRoute</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/TransitionType.html">TransitionType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Route.html">Route</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/ViewBuilder.html">ViewBuilder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ContextUpdatable.html">ContextUpdatable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RootViewProvider.html">RootViewProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Routable.html">Routable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/UpdatableViewFinder.html">UpdatableViewFinder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ViewBuilder.html">ViewBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ViewFinder.html">ViewFinder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ViewTransition.html">ViewTransition</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/View">View</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7Ariadne4Viewa">View</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p><img src="https://travis-ci.org/DenTelezhkin/Ariadne.svg?branch=master" alt="Build Status"> &nbsp;
<a href="http://codecov.io/github/DenTelezhkin/Ariadne?branch=master"><img src="http://codecov.io/github/DenTelezhkin/Ariadne/coverage.svg?branch=master" alt="codecov.io"></a>
<img src="https://cocoapod-badges.herokuapp.com/p/Ariadne/badge.svg" alt="CocoaPod platform"> &nbsp;
<img src="https://cocoapod-badges.herokuapp.com/v/Ariadne/badge.svg" alt="CocoaPod version"> &nbsp;
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href=""><img src="https://img.shields.io/packagist/l/doctrine/orm.svg" alt="Packagist"></a></p>

<p align="left">
  <img height="160" src="https://raw.githubusercontent.com/DenTelezhkin/Ariadne/master/logo.jpg" />
</p>
<h1 id='ariadne' class='heading'>Ariadne</h1>

<blockquote>
<p>Ariadne&rsquo;s thread, named for the legend of Ariadne, is the solving of a problem with multiple apparent means of proceeding - such as a physical maze, a logic puzzle, or an ethical dilemma - through an exhaustive application of logic to all available routes.</p>
</blockquote>

<p align="right">
  <a href="https://en.wikipedia.org/wiki/Ariadne%27s_thread_(logic)">Wikipedia</a>
</p>

<p>Ariadne is an extensible routing framework, built with composition and dependency injection principles in mind. It helps to create transitions and routes, that abstract away view controller building and presentation logic to make it reusable and compact.</p>
<h2 id='motivation' class='heading'>Motivation</h2>

<p>UIKit has a routing problem. All view controller presentation and dismissal methods happen in view controller, which a lot of times leads to bloated view controller, because all view controller building, dependency injection and transitions that also happen there.</p>

<p>This leads to massive view controllers, that cannot be easily tested, and code, that is hard to reuse across different view controller instances. One solution to those problems is to separate view controller building, and transition code in separate object, commonly called <code><a href="Classes/Router.html">Router</a></code>. And even though only some architectures like VIPER promote <code><a href="Classes/Router.html">Router</a></code> as required component, I would argue that app with any other architecture can be drastically improved by having at least some form of routing.</p>

<p>This is where <code>Ariadne</code> comes in. It is a framework, that provides view controller building mechanisms, transition and routing classes to abstract all this logic from view controller in architecture-agnostic way.</p>
<h1 id='example' class='heading'>Example</h1>

<p>Let&rsquo;s say, for example, that you need to present user profile inside <code>UINavigationController</code>. Usually, in MVC app without any libraries, you would do something like this:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">storyboard</span> <span class="o">=</span> <span class="kt">UIStoryboard</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"User"</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">userController</span> <span class="o">=</span> <span class="n">storyboard</span><span class="o">.</span><span class="nf">instantiateViewController</span><span class="p">(</span><span class="nv">withIdentifier</span><span class="p">:</span> <span class="s">"UserViewController"</span><span class="p">)</span>
<span class="n">userController</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
<span class="k">let</span> <span class="nv">navigation</span> <span class="o">=</span> <span class="kt">UINavigationController</span><span class="p">(</span><span class="nv">rootViewController</span><span class="p">:</span> <span class="n">userController</span><span class="p">)</span>
<span class="nf">present</span><span class="p">(</span><span class="n">navigation</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
</code></pre>

<p>With Ariadne, this code is no longer tied to current view controller and can look like this:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">route</span> <span class="o">=</span> <span class="kt">Storyboards</span><span class="o">.</span><span class="kt">User</span><span class="o">.</span><span class="n">userViewController</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="nf">embeddedInNavigation</span><span class="p">()</span><span class="o">.</span><span class="nf">presentRoute</span><span class="p">()</span>
<span class="n">router</span><span class="o">.</span><span class="nf">navigate</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">route</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="n">user</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Note: this specific example requires SwiftGen integration, described in <a href="Guides/SwiftGen-integration.md">SwiftGen integration</a> guide.
Without SwiftGen <code>Storyboards.User.userViewController.builder</code> could be replaced by any custom view controller builder.</p>
</blockquote>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 10+</li>
<li>macOS 10.12+</li>
<li>tvOS 10+</li>
<li>watchOS 3+</li>
<li>Xcode 10 / Swift 4.2 and higher</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'Ariadne'</span><span class="p">,</span> <span class="s1">'~&gt; 0.1.0'</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"DenTelezhkin/Ariadne"</span><span class="p">,</span> <span class="o">~&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span>
</code></pre>
<h2 id='overview' class='heading'>Overview</h2>

<p><code>Ariadne</code> architecture fundamentally starts with <code>ViewBuilder</code>. Because view controllers are so tightly coupled with their views on iOS, <code>UIViewController</code> is considered to be a <code><a href="Typealiases.html#/View">View</a></code>.</p>

<blockquote>
<p>Note: on watchOS <code><a href="Typealiases.html#/View">View</a></code> is a typealias for <code>WKInterfaceController</code>, and on macOS for <code>NSViewController</code> for similar reasons.</p>
</blockquote>

<p>Definition of <code>ViewBuilder</code> is simple - it builds a <code><a href="Typealiases.html#/View">View</a></code> out of provided <code>Context</code>:</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">ViewBuilder</span> <span class="p">{</span>
    <span class="kd">associatedtype</span> <span class="kt">ViewType</span><span class="p">:</span> <span class="kt">View</span>
    <span class="kd">associatedtype</span> <span class="kt">Context</span>
    <span class="kd">func</span> <span class="nf">build</span><span class="p">(</span><span class="n">with</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">Context</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">ViewType</span>
<span class="p">}</span>
</code></pre>

<p>Out of the box, <code>Ariadne</code> provides builders for:</p>

<ul>
<li>UINavigationController</li>
<li>UITabBarController</li>
<li>UISplitViewController</li>
</ul>

<p>Second building block of the framework are <code><a href="Protocols/ViewTransition.html">ViewTransition</a></code> objects, that are needed to perform transition between views. Out of the box, following transitions are supported:</p>

<ul>
<li>UINavigationController transitions - push, pop, pop to root</li>
<li>UIViewController presentations - present, dismiss</li>
<li>UIWindow root view controller transition to perform switch of the root view controller with animation.</li>
</ul>

<p><code>ViewBuilder</code> and <code><a href="Protocols/ViewTransition.html">ViewTransition</a></code> object can be combined together to form a performable <code><a href="Classes/Route.html">Route</a></code>. For example, given <code>AlertBuilder</code>, here&rsquo;s how creating a route for an alert might look like with <code>Ariadne</code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">alertRoute</span> <span class="o">=</span> <span class="kt">AlertBuilder</span><span class="p">()</span><span class="o">.</span><span class="nf">presentRoute</span><span class="p">()</span>
</code></pre>

<p>Notice how <code>presentRoute</code> method is called identically for <code>AlertBuilder</code> and any <code>UIViewController</code> builders. By leveraging protocol extensions on <code>ViewBuilder</code> any transitions and routes can be reused on <code>ViewBuilder</code> instance. To see examples of how <code>ViewBuilder</code> protocol can be implemented and extended, please refer to <a href="Guides/Implementing-view-builders.md">Implementing view builders</a> guide.</p>

<p>Last, but not least, <code><a href="Classes/Router.html">Router</a></code> object ties everything together and allows you to actually perform routes:</p>
<pre class="highlight swift"><code><span class="n">router</span><span class="o">.</span><span class="nf">navigate</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">alertRoute</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="n">alertModel</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="c1">// Route has completed</span>
<span class="p">})</span>
</code></pre>

<p>Router uses <code><a href="Protocols/RootViewProvider.html">RootViewProvider</a></code> to find which view controller is a root one in a view hierarchy. On iOS and tvOS <code><a href="Protocols/RootViewProvider.html">RootViewProvider</a></code> is an interface for <code>UIWindow</code> and allows <code><a href="Classes/Router.html">Router</a></code> to get root view controller of view hierarchy. But on other platforms as well as application extensions UIApplication shared window is not accessible, and in that cases <code><a href="Protocols/RootViewProvider.html">RootViewProvider</a></code> may be different, for example in iMessage apps <code>MSMessagesAppViewController</code> may play similar role.</p>

<p><code><a href="Protocols/ViewFinder.html">ViewFinder</a></code> object traverses view hierarchy starting from root view to find view controller that is currently visible on screen. On iOS and tvOS <code>Ariadne</code> provides implementation of <code><a href="Classes/CurrentlyVisibleViewFinder.html">CurrentlyVisibleViewFinder</a></code> class, that recursively searches <code>UIViewController</code>, <code>UINavigationController</code> and <code>UITabBarController</code> to find which view controller is currently visible, but on other platforms and in other scenarios you might want to roll with your implementation or subclass of <code><a href="Classes/CurrentlyVisibleViewFinder.html">CurrentlyVisibleViewFinder</a></code>, if your view hierarchy contains other view controller containers.</p>
<h2 id='swiftgen-integration' class='heading'>SwiftGen integration</h2>

<p><a href="https://github.com/SwiftGen/SwiftGen">SwiftGen</a> is a powerful code generator, that can be used to set you free from using String-based API, that is cumbersome and error-prone. For example with storyboards, SwiftGen is able to generate code required for instantiating view controllers and makes this code to guarantee on compile-time that storyboard and view controller exist. <code>Ariadne</code> can build on top of that, producing a neat syntax for route building, like so:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">route</span> <span class="o">=</span> <span class="kt">Storyboards</span><span class="o">.</span><span class="kt">User</span><span class="o">.</span><span class="n">userViewController</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="nf">embeddedInNavigation</span><span class="p">()</span><span class="o">.</span><span class="nf">presentRoute</span><span class="p">()</span>
</code></pre>

<p>To find out, how this can be achieved, refer to <a href="Guides/SwiftGen-integration.md">SwiftGen integration</a> guide.</p>
<h2 id='dependency-injection' class='heading'>Dependency injection</h2>

<p>Different applications can have completely different architectures and requirements. To see examples of simple dependency injection see <a href="Guides/SwiftGen-integration.md">SwiftGen integration</a> and for more advanced dependency injection with dependency containers like <a href="https://github.com/AliSoftware/Dip">Dip</a>, head to <a href="Guides/Advanced-dependency-injection.md">Advanced dependency injection examples</a> guide.</p>
<h2 id='vision' class='heading'>Vision</h2>

<p>To find out more about project future goals and vision, please read the <a href="VISION.md">Vision</a> document.</p>
<h2 id='example-project' class='heading'>Example project</h2>

<p>iOS Example project can be found in Ariadne.xcodeproj and contains:</p>

<ul>
<li>Root view controller animated change</li>
<li>push/pop, present/dismiss</li>
<li>Peek &amp; Pop</li>
<li>Custom transition and presentation</li>
<li>Update currently visible view.</li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p>Ariadne is released under a MIT license. See <a href="LICENSE">LICENSE</a> for more information.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="https://github.com/DenTelezhkin" target="_blank" rel="external">Denys Telezhkin</a>. All rights reserved. (Last updated: 2019-02-16)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
